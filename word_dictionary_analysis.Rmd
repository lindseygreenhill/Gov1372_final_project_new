---
title: "word_dictionary_analysis"
author: "Lindsey Greenhill"
date: "11/15/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(quanteda)
library(skimr)
library(lubridate)
library(ggthemes)
library(tidyverse)
load("data_collection/tweets_training_data.RData")
load("data_collection/twitter_handles.RData")

```


```{r echo=FALSE}
# I need to join the training data with the congress data so I have more info on
# the candidates

joined_data <- training_data %>%
  left_join(twitter_handles, by = c("screen_name" = "handle"))
```


```{r}
# visualizing the data set -- looking at amount of tweets over time 

time_plot <- training_data %>%
  group_by(date) %>% 
  count() %>%
  ggplot(aes(x = date, y = n)) +
  geom_point() +
  theme_clean() +
  labs(title = "Daily Number of Tweets",
       x = "Date",
       y = "")

# ggsave(plot = time_plot,"plots/time_summary_plot.png")

# tweets by party

party_count_plot <- joined_data %>%
  group_by(party) %>%
  drop_na() %>%
  count() %>%
  ggplot(aes(x = party, y = n)) +
  geom_col(aes(fill = party)) +
  scale_fill_manual(values = c("darkblue", "green", "indianred")) +
  labs(title = "Total Tweets by Party",
       "Democrats tweet the most",
       x = "Party",
       y = "") +
  theme_clean()

 # ggsave(plot = party_count_plot, "plots/party_summary_plot.png")

# tweets by person

name_top <- joined_data %>%
  group_by(name, party) %>%
  count() %>%
  arrange(desc(n)) %>%
  head(20)

tweets_name_plot <- name_top %>%
  arrange(desc(n)) %>%
  drop_na() %>%
  ggplot(aes(x = reorder(name, n), y = n)) +
  geom_col(aes(fill = party)) +
  scale_fill_manual(values = c("navyblue", "indianred")) +
  coord_flip() +
  labs(x = "Name", y = "Total Tweets",
       title = "Total Amount of Tweets",
       subtitle = "Top 20 tweeters") +
  theme_clean() 

# ggsave(plot = tweets_name_plot, "plots/tweets_by_name_plot.png")
```


```{r}

```

